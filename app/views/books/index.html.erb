<body>
<h1>Books</h1>

<table>
  <tr>
    <th>Title</th>
    <th>Body</th>
    <th colspan ="3"></th>
  </tr>
  
  <% @books.each do |book| %>
   <tr>
    <td><%= book.title %></td>
    <td><%= book.body %></td>
    <td><%= link_to 'Show', book_path(book.id) %></td>
    <td><%= link_to 'Edit' , edit_book_path(book.id) %></td>
    <td><%= link_to 'Destroy', books_path(book.id), method: :DELETE, "data-confirm" => "Are you sure?" %></td>
  </tr>
<% end %>

</table>


<div class="title-book">
<h3>New book</h3>
<% if @books.errors.any? %>
<%= @books.errors.count %>件のエラーが発生しました
<ul>
<%= @books.errors.full_message.each do |message| %>
<li><%= message %></li>
<% end %>
</ul>
<% end %>

<%= form_with model: @book, url: '/books' do |f| %>
<div class = "new-book">
<div class="title">Title</div>
<%= f.text_field :title %>
<div class ="body">Boby</div>
<%= f.text_area :body %>
</div>

<div class ="create-book">
<%= f.submit 'Create Book' %>
<% end %>
</div>
</div>
</body>